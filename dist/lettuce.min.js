/*! lettuce 04-01-2015 */
!function(a){"use strict";function b(){this._callbacks=[]}function c(a,d){var e=new b;return 0===a.length?e.done.apply(e,d):a[0].apply(null,d).then(function(){a.splice(0,1),c(a,arguments).then(function(){e.done.apply(e,arguments)})}),e}function d(a){var b;return b=this instanceof d?this:g(d.prototype),b["class"]=d,b["super"]=a.prototype,b}var e=function(){};e.VERSION="0.0.1",a.lettuce=e,e.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},e.extend=function(a){if(console.log(a),!e.isObject(a))return a;for(var b,c,d=1,f=arguments.length;f>d;d++){b=arguments[d],console.log(b);for(c in b)hasOwnProperty.call(b,c)&&(a[c]=b[c])}return a},b.prototype.then=function(a,c){var d;return this._isdone?d=a.apply(c,this.result):(d=new b,this._callbacks.push(function(){var b=a.apply(c,arguments);b&&"function"==typeof b.then&&b.then(d.done,d)})),d},b.prototype.done=function(){this.result=arguments,this._isdone=!0;for(var a=0;a<this._callbacks.length;a++)this._callbacks[a].apply(null,arguments);this._callbacks=[]};var f={Promise:b,chain:c};e.prototype=e.extend(e.prototype,f);var g;g="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},e.prototype.Class=d}(this);